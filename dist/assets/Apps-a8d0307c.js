import{r as l,j as e,u as p,f as h,L as j}from"./index-80b832ab.js";import{G as w,M as g,I as y}from"./index.esm-f6f86b1a.js";function N(a){return w({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"}}]})(a)}const v=a=>{const[r,t]=l.useState(""),{apps:s,setisModelOpen:o,setCurrentAppName:n}=a;return l.useEffect(()=>{r&&setTimeout(()=>{t("")},2e3)},[r]),e.jsxs("tr",{children:[e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 pl-9 dark:border-strokedark xl:pl-11",children:e.jsx("h5",{className:"font-medium text-black dark:text-white text-lg",children:s.app_name})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark relative",children:e.jsxs("p",{className:"text-black dark:text-white flex gap-2 border  border-stroke pr-2 rounded-lg",children:[e.jsx("input",{type:"text",value:s.api_key,className:"w-full  p-2 focus:outline-none bg-white text-black dark:bg-boxdark dark:text-white",readOnly:!0}),e.jsx("button",{className:"text-black ",onClick:()=>{navigator.clipboard.writeText(s.api_key).then(()=>{t("Success")},()=>{t("Failed")})},children:r?r==="Success"?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"size-4  text-green-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"size-4 text-red-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}):e.jsx(g,{})})]})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark text-center",children:e.jsx("div",{className:"text-black dark:text-white font-bold",children:e.jsx("button",{className:"text-white bg-meta-1 hover:bg-meta-1/90  shadow-md    transition-colors px-2 py-1 rounded-md",onClick:()=>{o(!0),n(s.app_name)},children:"Delete"})})})]})},C=a=>{const[r,t]=l.useState(!1),{userData:s}=p(),{deleteApp:o}=h(),[n,d]=l.useState(""),[u,x]=l.useState(!1),[i,m]=l.useState("");l.useEffect(()=>{i&&setTimeout(()=>{m("")},3e3)},[i]);const b=async()=>{x(!0);try{s&&(await o(s.sub,s.email,n),d(""),t(!1))}catch(c){m(c.message)}finally{x(!1)}},{appList:k}=a;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1",children:e.jsx("div",{className:"max-w-full overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[e.jsx("th",{className:"min-w-[120px] py-4 px-4 font-medium text-black dark:text-white xl:pl-11",children:"App Name"}),e.jsx("th",{className:"min-w-[350px] py-4 px-4 font-medium text-black dark:text-white",children:"API Key"}),e.jsx("th",{className:"min-w-[150px] py-4 px-4 text-center font-medium text-black dark:text-white",children:"Action"})]})}),e.jsx("tbody",{children:k.map((c,f)=>e.jsx(v,{apps:c,setisModelOpen:t,setCurrentAppName:d},f))})]})})}),r&&e.jsx("div",{className:"w-screen h-screen fixed top-0 left-0 right-0 bg-black/50 z-50 flex justify-center items-center",children:e.jsxs("div",{className:" max-w-[350px] w-full bg-white shadow-md p-2 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-xl text-black font-bold",children:"Confirm Delete"}),e.jsx(y,{className:"cursor-pointer text-2xl text-black font-bold",onClick:()=>{d(""),t(!1)}})]}),e.jsxs("p",{className:"mb-4 border-t border-b border-stroke py-2",children:["Are You sure you want to delete ",n]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{className:"border border-stroke  text-black py-2 px-3 bg-gray-2 rounded-sm",onClick:()=>{d(""),t(!1)},children:"Cancel"}),e.jsx("button",{className:"border border-stroke bg-red-500 text-white py-2 px-3 rounded-sm",onClick:b,children:u?"Deleting...":"Delete"})]}),i&&e.jsx("p",{className:"text-red-500 text-center font-bold mt-2",children:i})]})})]})},M=()=>{const{appList:a,isLoading:r,error:t,getAllApps:s}=h(),{userData:o}=p();return l.useEffect(()=>{o&&s(o.sub,o.email)},[s]),e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"w-full min-h-[100vh] mx-auto bg-white p-4",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold  text-black",children:"Your Apps"}),e.jsx(j,{to:"create_new_app",className:"text-white bg-boxdark border shadow-md  border-graydark  transition-colors px-2 py-1 rounded-md ",children:"+ Create new app"})]}),e.jsx("p",{className:"mb-4",children:"To securely access our services and authenticate your identity, you need to generate and use an API key. This key acts as a secure token that verifies your identity and permissions when interacting with our API. Follow these detailed instructions to generate, manage, and use your API key effectively."}),e.jsxs("p",{className:"mb-6",children:[e.jsxs("span",{className:"font-semibold",children:[e.jsx(N,{size:20,className:"inline-block mr-1 -mt-1"}),"Do Not share your API key with anyone;"]})," ","We regulerly check your API key for any suspicious activity."]})]}),r&&e.jsx("div",{className:"border border-stroke rounded-lg h-32 bg-stroke/60 flex justify-center items-center ",children:e.jsx("p",{className:"text-black font-bold",children:"Table Loading..."})}),!r&&t&&t!=="user doesnt have any apps created"&&e.jsxs("div",{className:" text-center font-bold text-meta-1 rounded-sm border border-stroke bg-white py-6 px-7.5 shadow-default ",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),e.jsx("span",{children:t})]}),e.jsxs("button",{className:" shadow-default border bg-[#00BDD6] text-white border-stroke rounded-sm hover:bg-stroke transition-all p-2 flex gap-2 mx-auto",onClick:()=>{o&&s(o.sub,o.email)},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"size-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload"]})]}),!r&&t==="user doesnt have any apps created"&&e.jsx("div",{className:"border border-stroke rounded-lg h-32 bg-stroke/60 flex justify-center items-center ",children:e.jsx("p",{className:"text-black font-bold",children:"No app is created, Please create an app."})}),(a==null?void 0:a.length)>0&&!r&&!t&&e.jsx(C,{appList:a})]})})};export{M as default};
